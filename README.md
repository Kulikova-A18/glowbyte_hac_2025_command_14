# GLOWBYTE. Прогноз самовозгорания угля

Работа **команды 14/Хакактон 2025**

## Введение

Это веб-приложение позволяет анализировать и прогнозировать самовозгорание угля при открытом хранении.  
Приложение визуализирует данные из нескольких источников и позволяет настраивать графики под конкретные задачи.

---

## Запуск приложения

1. Убедитесь, что у вас установлен Python (рекомендуется 3.8 и выше).
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Убедитесь, что структура папок `data/` соответствует ожидаемой:
   ```
   data/
   ├── fires/fires.csv
   ├── supplies/supplies.csv
   ├── temperature/temperature.csv
   └── weather_data/weather_data_*.csv
   ```
4. Запустите приложение:
   ```bash
   streamlit run app.py
   ```
5. Откройте браузер по адресу: `http://localhost:8501`

---

## Создание графиков

Приложение позволяет создавать графики по 4 основным категориям:

| Кнопка | Назначение | Источник данных |
|--------|------------|-----------------|
| 1. Выгрузка на склад и отгрузка | Анализ логистики угля | `data/supplies/supplies.csv` |
| 2. Информация о самовозгораниях | Факты самовозгораний | `data/fires/fires.csv` |
| 3. Показатели температуры в штабелях | Температурные данные | `data/temperature/temperature.csv` |
| 4. Погода | Метеоданные | `data/weather_data/weather_data_*.csv` |

### Как создать график:

1. Нажмите одну из 4 кнопок на главной странице.
2. Откроется **меню настройки**:
   - Выберите **колонку с датой** (автоопределение).
   - Выберите **параметры для отображения** (ось Y).
   - Укажите **период** (данные за последние N дней).
   - Выберите **тип графика**: линейный, гистограмма, точечный.
   - Введите **название графика** или оставьте пустым — автоматически сгенерируется: `filename_param1_param2...`
3. Нажмите **"Создать график"**.
4. График появится в соответствующей секции на главной странице.

---

## Сохранение и восстановление настроек

- Все созданные графики **сохраняются автоматически** в файл `schedule.json`.
- При следующем запуске приложения **все графики будут восстановлены**.
- Вы можете вручную редактировать `schedule.json`, если это необходимо.

---

## Требования к данным

- Файлы должны быть в формате **CSV**.
- Дата должна быть в колонке с названием, содержащим `дата` или `date` (регистронезависимо).
- Поддерживаются числовые и строковые параметры (строковые агрегируются как `count`).

---

## Функциональные возможности

- Подгрузка текущих данных.
- Визуализация прогнозов и фактов.
- Сравнение дат самовозгораний.
- Календарь возгораний.
- Гибкая настройка графиков.
- Прогноз погоды с помощью ML.
